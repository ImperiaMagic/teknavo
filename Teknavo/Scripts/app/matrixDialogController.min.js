var MatrixDialogController=function(){function n(n,t,i,r){this.parent=n,this.matrixEditor=t,this.serverProxy=i,this.deleteBtn=r,this.controls={title:"#titleId",description:"#matrixDescription",dimension:"#matrixDimension",okBtn:"#okBtn",list:"matricesListId"}}return n.prototype.createEditMatrixDialog=function(){var n=document.createElement("div");return this.entityDialog=n,n.className="modal fade",n.id="modalDialogId",this.parent.appendChild(n),n.innerHTML='<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button><h4 class="modal-title" id="titleId">Create Matrix<\/h4><\/div><div class="modal-body"><form role="form"><div class="form-group"><label for="matrixDescription">Description<\/label><input type="text" class="form-control" id="matrixDescription" placeholder="Enter Matrix Description"><\/div><div class="form-group"><label for="matrixDimension">Dimension<\/label><input type="number" class="form-control" id="matrixDimension" placeholder="Enter Matrix Dimension"><\/div><\/form><\/div><div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal" id="okBtn">Ok<\/button><button type="button" class="btn btn-default" data-dismiss="modal">Cancel<\/button><\/div><\/div><!-- /.modal-content --><\/div><!-- /.modal-dialog -->',n},n.prototype.createListMatrixDialog=function(){var n=document.createElement("div");return this.entityListDialog=n,n.className="modal fade",n.id="modalDialogId",this.parent.appendChild(n),n.innerHTML='<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button><h4 class="modal-title">List of Matrices<\/h4><\/div><div class="modal-body"><form role="form"><div class="form-group" style="overflow-y: auto;max-height: 300px;" id="matricesListId"><\/div><\/form><\/div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Cancel<\/button><\/div><\/div><!-- /.modal-content --><\/div><!-- /.modal-dialog -->',n},n.prototype.showMatrixListDialog=function(){for(var t=this,r=function(n){return function(){$(t.entityListDialog).modal("hide"),t.matrixEditor.loadMatrixFromSite(n)}},u=function(t){for(var o=t.length,f,u,e,i=0;i<o;i++)f=document.createElement("br"),u=document.createElement("a"),u.innerText=t[i].description,n.appendChild(u),n.appendChild(f),e={matrixId:t[i].id,description:t[i].description,dimension:t[i].dimension,elements:[]},u.onclick=r(e)},n=document.getElementById(this.controls.list),i=n.childNodes,f;i.length;)n.removeChild(i[0]);f=this.serverProxy.getMatrixList(u),$(this.entityListDialog).modal("show")},n.prototype.showCreateDialog=function(){var n=this;$(this.controls.title).html("Create Matrix"),$(this.controls.dimension).val(""),$(this.controls.description).val(""),$(this.entityDialog).modal("show"),$(this.controls.okBtn).unbind("click"),$(this.controls.okBtn).click(function(){n.okCreateHandler()})},n.prototype.showEditDialog=function(n){var t=this;$(this.controls.title).html("Edit Matrix"),$(this.controls.dimension).val(n.dimension),$(this.controls.description).val(n.description),$(this.entityDialog).modal("show"),$(this.controls.okBtn).unbind("click"),$(this.controls.okBtn).click(function(){t.okEditHandler()})},n.prototype.okCreateHandler=function(){var n,r;$(this.deleteBtn).hide();var t=parseInt($(this.controls.dimension).val()),u=$(this.controls.description).val(),i=[];for(n=0;n<t;n++)for(i.push([]),r=0;r<t;r++)i[n].push(0);this.matrixEditor.init({dimension:t,description:u,elements:i})},n.prototype.okEditHandler=function(){this.matrixEditor.update({dimension:$(this.controls.dimension).val(),description:$(this.controls.description).val(),elements:null})},n}()