var MatrixViewBuilder=function(){function n(n){var t,e;this.options=n;var i=n.controls,u=new ServerProxy,r=document.getElementById(i.del),f=new MatrixEditor(i.matrix,u,r);this.dialogController=new MatrixDialogController(document.getElementById(i.editView),f,u,r),this.controls={fileLoader:document.getElementById(i.fileLoader),create:document.getElementById(i.create),loadFromFile:document.getElementById(i.loadFromFile),loadFromSite:document.getElementById(i.loadFromSite),save:document.getElementById(i.save),clear:document.getElementById(i.clear),del:r,edit:document.getElementById(i.edit),collapse:document.getElementById(i.collapse),matrixEditor:f,editView:this.dialogController.createEditMatrixDialog(),listView:this.dialogController.createListMatrixDialog()},$(this.controls.editView).modal({show:!1}),$(this.controls.create).tooltip({title:"Create matrix",placement:"bottom"}),$(this.controls.loadFromFile).tooltip({title:"Load matrix from file",placement:"bottom"}),$(this.controls.loadFromSite).tooltip({title:"Load matrix from site",placement:"bottom"}),$(this.controls.save).tooltip({title:"Save matrix to site",placement:"bottom"}),$(this.controls.clear).tooltip({title:"Clear matrix",placement:"bottom"}),$(this.controls.edit).tooltip({title:"Edit matrix unique and dimension",placement:"bottom"}),$(this.controls.collapse).tooltip({title:"Collapse or expand matrix",placement:"bottom"}),$(this.controls.del).tooltip({title:"Delete matrix from site",placement:"bottom"}),t=this,this.controls.fileLoader.addEventListener("change",function(n){var i=t.controls.fileLoader.files[0];t.controls.matrixEditor.loadFileHandler(n,i),t.controls.fileLoader.value=null,$(r).hide()},!1),this.controls.loadFromFile.addEventListener("click",function(){var n=document.getElementById("fileBtn");n.click()},!1),this.controls.collapse.addEventListener("click",function(n){t.controls.matrixEditor.collapseHandler(n)},!1),this.controls.create.addEventListener("click",function(){t.dialogController.showCreateDialog()},!1),this.controls.loadFromSite.addEventListener("click",function(){t.dialogController.showMatrixListDialog()},!1),this.controls.save.addEventListener("click",function(){u.saveMatrix(t.controls.matrixEditor.matrix)},!1),this.controls.clear.addEventListener("click",function(){t.controls.matrixEditor.clearValues()},!1),this.controls.edit.addEventListener("click",function(){t.dialogController.showEditDialog(t.controls.matrixEditor.matrix)},!1),this.controls.del.addEventListener("click",function(){u.deleteMatrix(t.controls.matrixEditor.matrix.matrixId),t.controls.matrixEditor.remove();var f=document.getElementById(i.matrix),n=document.createElement("h2");n.innerText="Matrix deleted",f.appendChild(n),$(r).hide()},!1),e={elements:n.data,dimension:n.data.length,description:"Data Generated "+Math.round((new Date).getTime()/1e3)},this.controls.matrixEditor.init(e)}return n}()